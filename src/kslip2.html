<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SLIP-39 Generator and Recovery (Offline)</title>  
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <h1>SLIP-39 Generator and Recovery (Offline)</h1>
    <div class="sub">No network needed. Runs entirely in your browser. Generates <b>SLIP-39</b> <i>M</i>-of-<i>N</i> <b>Master Secret</b> shares (10 bits/word) and recovers secrets from <i>M</i> mnemonics. An optional <b>passphrase</b> is supported and must be the <u>same</u> for both generation and recovery.</div>
  </header>
  <main class="grid">
      <section id="create" class="card">
        <h2>Create</h2>
        <p class="note-text">Split an existing secret into several mnemonic shares.<br>
           <a href="#combine">See the 'Combine' section below to combine existing shares.</a>
        </p>

        <h3>Secret</h3>
        <p>Securely generate random master secret with strength of:</p>
        <div class="row">
          <button id="strength-128" class="generate" data-strength="128">128 bits</button>
          <button id="strength-160" class="generate" data-strength="160">160 bits</button>
          <button id="strength-192" class="generate" data-strength="192">192 bits</button>
          <button id="strength-224" class="generate" data-strength="224">224 bits</button>
          <button id="strength-256" class="generate" data-strength="256">256 bits</button>
        </div>

        <label for="master-secret-hex">Master Secret</label>
        <input id="master-secret-hex" type="text" placeholder="hex string eg 0123456789abcdef0123456789ABCDEF">
        <p class="err" id="master-secret-error"></p>

        <label for="passphrase">Passphrase (optional)</label>
        <input id="passphrase" type="text" placeholder="eg MySecretPassphrase">

        <h3>Groups and Members</h3>

		<div class="shares-threshold-row">
			<div class="field">
				<label for="total-shares">Total Shares</label>
				<input id="total-shares" type="number" value="3">
				<p id="total-shares-error" class="err"></p>
				<p class="note">The number of shares to generate.</p>
			</div>
			
			<div class="field">
				<label for="threshold">Threshold</label>
				<input id="threshold" type="number" value="2">
				<p id="threshold-error" class="err"></p>
				<p class="note">The number of shares needed to reconstruct the master secret.</p>
			</div>
		</div>

        <h3>Shares</h3>

        <label for="new-shares">Mnemonics</label>
        <textarea id="new-shares" rows="10" readonly placeholder="Mnemonic Shares will be shown here"></textarea>
		<p></p>
		<div id="zbase32-block" style="display:none">
			<label for="new-shares-zbase32">Z-Base-32</label>
			<textarea id="new-shares-zbase32" rows="10" readonly placeholder="Z-Base-32 Shares will be shown here"></textarea>
		</div>
      </section>

      <section id="combine" class="card">
        <h2>Combine Shares</h2>
        <p id="combine-modes" style="display:none">
          Recover a master secret from a set of
          <span>
            <label><input type="radio" name="combine-mode" value="mnemonics" checked> Mnemonics</label>
            <label><input type="radio" name="combine-mode" value="zbase32"> Z-Base-32</label>
          </span>
        </p>

        <label for="existing-shares">Mnemonics Input</label>
        <textarea id="existing-shares" rows="10" placeholder="Enter your mnemonic shares here, one per line"></textarea>
        <p class="err" id="reconstructed-error"></p>

		<div id="decoded-block" style="display:none">
			<label for="decoded-mnemonics">Decoded Mnemonics</label>
			<textarea id="decoded-mnemonics" readonly rows="10" placeholder="Decoded mnemonics appear here."></textarea>
		</div>

        <label for="decrypter">Passphrase</label>
        <input id="decrypter" type="text">

        <label for="reconstructed-hex">Master Secret</label>
        <input id="reconstructed-hex" type="text" readonly>
      </section>
  </main>

  <script src="js/slip39-libs.js"></script>
  <script src="js/conversion-lib.js"></script>
  <script src="js/index.js"></script>
</body>
</html>
